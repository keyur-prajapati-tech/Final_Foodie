@model List<Foodie.Models.Restaurant.RestaurantInfo>;

@{
    Layout = "~/Views/Shared/_foodieheader.cshtml";
    var menuItems = ViewBag.MenuItems as List<Foodie.Models.customers.MenuItemViewModel>;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foodie | Food Delivery in Surat</title>
    <link rel="icon" href="https://cdn.iconscout.com/icon/free/png-256/zomato-1937646-1637644.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #ff4f5a;
            --primary-dark: #e63c46;
            --secondary-color: #333333;
            --light-gray: #f5f5f5;
            --medium-gray: #e0e0e0;
            --dark-gray: #777777;
            --white: #ffffff;
            --black: #000000;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
            --lavender-bg: #f5f0ff;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-gray);
            color: var(--secondary-color);
            line-height: 1.6;
        }
        
        /* Hero Section */
        /* .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                        url('https://b.zmtcdn.com/web_assets/81f3ff974d82520780078ba1cfbd453a1583259680.png');
            background-size: cover;
            background-position: center;
            color: var(--white);
            padding: 80px 0;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .search-bar {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .search-input {
            border-radius: 30px;
            padding: 12px 20px;
            border: none;
        }
        
        .search-btn {
            border-radius: 30px;
            padding: 12px 25px;
            background-color: var(--primary-color);
            border: none;
            font-weight: 600;
        }
        
        .search-btn:hover {
            background-color: var(--primary-dark);
        } */
        
        /* Category Section */
        .category-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .category-item {
            text-align: center;
            padding: 15px;
            transition: transform 0.3s ease;
        }
        
        .category-item:hover {
            transform: translateY(-5px);
        }
        
        .category-img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid var(--white);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 0 auto 15px;
            transition: all 0.3s ease;
        }
        
        .category-item:hover .category-img {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }
        
        .category-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .category-link {
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        /* Brand Section */
        .brand-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .brand-item {
            text-align: center;
            padding: 15px;
            transition: transform 0.3s ease;
        }
        
        .brand-item:hover {
            transform: translateY(-5px);
        }
        
        .brand-img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid var(--white);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 0 auto 15px;
            transition: all 0.3s ease;
        }
        
        .brand-item:hover .brand-img {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }
        
        .brand-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 5px;
        }
        
        .brand-days {
            font-size: 0.9rem;
            color: var(--dark-gray);
        }
        
        /* Restaurant Cards */
        .restaurants-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .restaurant-card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            margin-bottom: 25px;
            border: 1px solid var(--medium-gray);
        }
        
        .restaurant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .image-container {
            position: relative;
            width: 100%;
            height: 180px;
            overflow: hidden;
        }
        
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .restaurant-card:hover .image-container img {
            transform: scale(1.1);
        }
        
        .badge {
            position: absolute;
            font-size: 0.75rem;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: 600;
            z-index: 1;
        }
        
        .promoted {
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: var(--white);
        }
        
        .discount {
            bottom: 10px;
            left: 10px;
            background: var(--primary-color);
            color: var(--white);
        }
        
        .restaurant-details {
            padding: 15px;
        }
        
        .restaurant-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--secondary-color);
        }
        
        .cuisine {
            font-size: 0.85rem;
            color: var(--dark-gray);
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .price-rating {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .price {
            font-size: 0.85rem;
            color: var(--secondary-color);
            font-weight: 500;
        }
        
        .rating {
            background: var(--success);
            color: var(--white);
            padding: 4px 8px;
            font-size: 0.8rem;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 3px;
        }
        
        .rating i {
            font-size: 0.7rem;
        }
        
        .rating.low {
            background: var(--danger);
        }
        
        .rating.medium {
            background: var(--warning);
            color: var(--black);
        }
        
        .delivery-time {
            font-size: 0.8rem;
            color: var(--dark-gray);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Explore Options */
        .explore-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .accordion-item {
            border: 1px solid var(--medium-gray);
            border-radius: 8px !important;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .accordion-button {
            font-weight: 600;
            padding: 15px 20px;
        }
        
        .accordion-button:not(.collapsed) {
            background-color: rgba(255, 79, 90, 0.1);
            color: var(--primary-color);
        }
        
        .accordion-button:focus {
            box-shadow: none;
            border-color: var(--medium-gray);
        }
        
        .accordion-body {
            padding: 15px 20px;
            font-size: 0.9rem;
            color: var(--dark-gray);
        }
        
        /* Carousel Navigation */
        .owl-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
        }
        
        .owl-prev, .owl-next {
            background: var(--white) !important;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .owl-prev:hover, .owl-next:hover {
            background: var(--primary-color) !important;
            color: var(--white) !important;
        }
        
        .owl-prev i, .owl-next i {
            font-size: 20px;
        }
        
        /* Responsive Adjustments */
        @@media (max-width: 992px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .category-img, .brand-img {
                width: 100px;
                height: 100px;
            }
        }
        
        @@media (max-width: 768px) {
            .hero-section {
                padding: 60px 0;
            }
            
            .category-container, .brand-container, 
            .restaurants-container, .explore-container {
                padding: 20px;
            }
            
            .owl-nav {
                display: none;
            }
        }
        
        @@media (max-width: 576px) {
            .hero-title {
                font-size: 1.8rem;
            }
            
            .search-bar {
                padding: 0 15px;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .category-img, .brand-img {
                width: 80px;
                height: 80px;
            }
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    @* <section class="hero-section">
        <div class="container">
            <h1 class="hero-title">Discover the best food in Surat</h1>
            <p class="hero-subtitle">Order from your favorite restaurants with just a few clicks</p>
            <div class="search-bar">
                <div class="input-group">
                    <input type="text" class="form-control search-input" placeholder="Search for restaurants or cuisines...">
                    <button class="btn btn-danger search-btn" type="button"><i class="fas fa-search me-2"></i> Search</button>
                </div>
            </div>
        </div>
    </section> *@

    <!-- Categories Section -->
    <div class="category-container">
        <h2 class="section-title">Inspiration for your first order</h2>

        <div class="owl-carousel owl-theme">
            @foreach(var item in menuItems)
            {
                <div class="item">
                    <a asp-controller="DeliveryItem" asp-action="AllDeliveryFood" asp-route-id="@item.MenuId" class="category-link">
                        <div class="category-item">
                            <img src="data:image/jpeg;base64,@item.MenuImageBase64" class="category-img" alt="@item.MenuName">
                            <div class="category-name" title="@item.MenuName">@item.MenuName</div>
                        </div>
                    </a>
                </div>
            }
        </div>
    </div>

    <!-- Brands Section -->
    <div class="brand-container">
        <h2 class="section-title">Top brands for you</h2>

        @if (Model.Count() > 1)
        {
            <div class="owl-carousel owl-theme">
                @foreach (var item in Model)
                {
                    <div class="item">
                        <div class="brand-item">
                            <a asp-controller="TBrands" asp-action="BrandDetails" asp-route-name="@Uri.EscapeDataString(item.Restaurant_name)">
                                <img src="data:image/png;base64,@Convert.ToBase64String(item.Restaurant_img)" class="brand-img" alt="@item.Restaurant_name">
                            </a>
                            <div class="brand-name">@item.Restaurant_name</div>
                            <div class="brand-days">@item.DayOfWeek days open</div>
                        </div>
                    </div>
                }
            </div>
        }
        else if (Model.Count() == 1)
        {
            <div class="text-center">
                <div class="brand-item">
                    <a asp-controller="TBrands" asp-action="BrandDetails" asp-route-name="@Uri.EscapeDataString(Model.First().Restaurant_name)">
                        <img src="data:image/png;base64,@Convert.ToBase64String(Model.First().Restaurant_img)" class="brand-img" alt="@Model.First().Restaurant_name">
                    </a>
                    <div class="brand-name">@Model.First().Restaurant_name</div>
                    <div class="brand-days">@Model.First().DayOfWeek days open</div>
                </div>
            </div>
        }
        else
        {
            <p class="text-muted text-center">No brands available at the moment.</p>
        }
    </div>

    <!-- Restaurants Section -->
    <div class="restaurants-container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="section-title mb-0">Food Delivery Restaurants in Surat</h2>
            <a href="#" class="btn btn-outline-danger btn-sm">View All</a>
        </div>

        <div class="row">
            <!-- Restaurant Card 1 -->
            <div class="col-md-4 mb-4">
                <div class="restaurant-card">
                    <div class="image-container">
                        <img src="https://b.zmtcdn.com/data/pictures/chains/6/18569536/0b1236f2e5c7fe1311996caaa594f272.jpg" alt="Radhe Dhokla">
                        <span class="badge promoted">PROMOTED</span>
                        <span class="badge discount">₹200 OFF</span>
                    </div>
                    <div class="restaurant-details">
                        <h5 class="restaurant-name">Radhe Dhokla</h5>
                        <p class="cuisine">North Indian, Chinese, Gujarati</p>
                        <div class="price-rating">
                            <span class="price">₹200 per person</span>
                            <span class="rating"><i class="fas fa-star"></i> 4.2</span>
                        </div>
                        <p class="delivery-time"><i class="fas fa-clock"></i> 28 min</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant Card 2 -->
            <div class="col-md-4 mb-4">
                <div class="restaurant-card">
                    <div class="image-container">
                        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/83/d2/69/20201230172727-img-5991.jpg?w=800&h=500&s=1" alt="La Pino'z Pizza">
                        <span class="badge discount">₹200 OFF</span>
                    </div>
                    <div class="restaurant-details">
                        <h5 class="restaurant-name">La Pino'z Pizza</h5>
                        <p class="cuisine">Pizza, Italian, Pasta, Fast Food</p>
                        <div class="price-rating">
                            <span class="price">₹200 per person</span>
                            <span class="rating"><i class="fas fa-star"></i> 4.2</span>
                        </div>
                        <p class="delivery-time"><i class="fas fa-clock"></i> 21 min</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant Card 3 -->
            <div class="col-md-4 mb-4">
                <div class="restaurant-card">
                    <div class="image-container">
                        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/20/9f/25/59/great-food.jpg?w=900&h=500&s=1" alt="Pizza Hut">
                        <span class="badge promoted">PROMOTED</span>
                        <span class="badge discount">20% OFF</span>
                    </div>
                    <div class="restaurant-details">
                        <h5 class="restaurant-name">Pizza Hut</h5>
                        <p class="cuisine">Pizza, Fast Food, Italian</p>
                        <div class="price-rating">
                            <span class="price">₹250 per person</span>
                            <span class="rating medium"><i class="fas fa-star"></i> 3.6</span>
                        </div>
                        <p class="delivery-time"><i class="fas fa-clock"></i> 37 min</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant Card 4 -->
            <div class="col-md-4 mb-4">
                <div class="restaurant-card">
                    <div class="image-container">
                        <img src="https://b.zmtcdn.com/data/pictures/chains/6/18569536/0b1236f2e5c7fe1311996caaa594f272.jpg" alt="Radhe Dhokla">
                        <span class="badge promoted">PROMOTED</span>
                        <span class="badge discount">₹200 OFF</span>
                    </div>
                    <div class="restaurant-details">
                        <h5 class="restaurant-name">Radhe Dhokla</h5>
                        <p class="cuisine">North Indian, Chinese, Gujarati</p>
                        <div class="price-rating">
                            <span class="price">₹200 per person</span>
                            <span class="rating"><i class="fas fa-star"></i> 4.2</span>
                        </div>
                        <p class="delivery-time"><i class="fas fa-clock"></i> 28 min</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant Card 5 -->
            <div class="col-md-4 mb-4">
                <div class="restaurant-card">
                    <div class="image-container">
                        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/83/d2/69/20201230172727-img-5991.jpg?w=800&h=500&s=1" alt="La Pino'z Pizza">
                        <span class="badge discount">₹200 OFF</span>
                    </div>
                    <div class="restaurant-details">
                        <h5 class="restaurant-name">La Pino'z Pizza</h5>
                        <p class="cuisine">Pizza, Italian, Pasta, Fast Food</p>
                        <div class="price-rating">
                            <span class="price">₹200 per person</span>
                            <span class="rating"><i class="fas fa-star"></i> 4.2</span>
                        </div>
                        <p class="delivery-time"><i class="fas fa-clock"></i> 21 min</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant Card 6 -->
            <div class="col-md-4 mb-4">
                <div class="restaurant-card">
                    <div class="image-container">
                        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/20/9f/25/59/great-food.jpg?w=900&h=500&s=1" alt="Pizza Hut">
                        <span class="badge promoted">PROMOTED</span>
                        <span class="badge discount">20% OFF</span>
                    </div>
                    <div class="restaurant-details">
                        <h5 class="restaurant-name">Pizza Hut</h5>
                        <p class="cuisine">Pizza, Fast Food, Italian</p>
                        <div class="price-rating">
                            <span class="price">₹250 per person</span>
                            <span class="rating medium"><i class="fas fa-star"></i> 3.6</span>
                        </div>
                        <p class="delivery-time"><i class="fas fa-clock"></i> 37 min</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Explore Options Section -->
    <div class="explore-container">
        <h2 class="section-title mb-4">Explore options near you</h2>

        <div class="accordion" id="exploreAccordion">
            <!-- Popular Cuisines -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                        <i class="fas fa-utensils me-2"></i> Popular cuisines near me
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#exploreAccordion">
                    <div class="accordion-body">
                        <div class="d-flex flex-wrap gap-2">
                            <span class="badge bg-light text-dark">Bakery</span>
                            <span class="badge bg-light text-dark">Biryani</span>
                            <span class="badge bg-light text-dark">Pizza</span>
                            <span class="badge bg-light text-dark">Italian</span>
                            <span class="badge bg-light text-dark">North Indian</span>
                            <span class="badge bg-light text-dark">Chinese</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Popular Restaurant Types -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <i class="fas fa-store me-2"></i> Popular restaurant types near me
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#exploreAccordion">
                    <div class="accordion-body">
                        <div class="d-flex flex-wrap gap-2">
                            <span class="badge bg-light text-dark">Cafés</span>
                            <span class="badge bg-light text-dark">Fine Dining</span>
                            <span class="badge bg-light text-dark">Quick Bites</span>
                            <span class="badge bg-light text-dark">Sweet Shops</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Restaurant Chains -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        <i class="fas fa-link me-2"></i> Top restaurant chains
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#exploreAccordion">
                    <div class="accordion-body">
                        <div class="d-flex flex-wrap gap-2">
                            <span class="badge bg-light text-dark">McDonald's</span>
                            <span class="badge bg-light text-dark">KFC</span>
                            <span class="badge bg-light text-dark">Domino's</span>
                            <span class="badge bg-light text-dark">Pizza Hut</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

    <script>
        $(document).ready(function () {
            // Initialize Owl Carousel
            $(".owl-carousel").owlCarousel({
                loop: true,
                margin: 20,
                nav: true,
                dots: false,
                autoplay: true,
                autoplayTimeout: 3000,
                autoplayHoverPause: true,
                responsive: {
                    0: { items: 2 },
                    600: { items: 3 },
                    1000: { items: 5 }
                },
                navText: ["<i class='fas fa-chevron-left'></i>", "<i class='fas fa-chevron-right'></i>"]
            });

            // Truncate text for long names
            function truncateText(selector, maxLength = 20) {
                const items = document.querySelectorAll(selector);
                items.forEach(item => {
                    const text = item.textContent.trim();
                    if (text.length > maxLength) {
                        item.title = text;
                        item.textContent = text.substring(0, maxLength) + "...";
                    }
                });
            }

            truncateText(".category-name", 15);
            truncateText(".brand-name", 20);
            truncateText(".restaurant-name", 25);
            truncateText(".cuisine", 40);

            // Search functionality
            $('.search-btn').click(function() {
                const searchTerm = $('.search-input').val().trim();
                if (searchTerm) {
                    alert('Searching for: ' + searchTerm);
                    // Implement actual search functionality here
                }
            });

            // Press Enter to search
            $('.search-input').keypress(function(e) {
                if (e.which === 13) {
                    $('.search-btn').click();
                }
            });
        });
    </script>
</body>
</html>